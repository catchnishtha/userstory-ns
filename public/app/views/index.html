<!DOCTYPE html>
<html lang="en" ng-app="MyApp">
  <head>
  	<base href='/'>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Blue Hippo - My Notebook</title>
    <!-- Bootstrap -->
    <link href='https://fonts.googleapis.com/css?family=Schoolbell|Leckerli+One' rel='stylesheet' type='text/css'>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script> <!--2.x version not supported - event binding-->
    <script type="text/javascript" src ="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
    <script type="text/javascript" src ="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.5/angular-route.min.js"></script>
	<script type="text/javascript" src ="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular-messages.js"></script>
	<script type="text/javascript" src="https://code.angularjs.org/1.4.7/angular-animate.js"></script>
   
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-css/1.0.7/angular-css.min.js"></script>
	<script type="text/javascript" src="/socket.io/socket.io.js"></script>
    <!--services-->
    <script type="text/javascript" src="app/services/authService.js"></script>
    <script type="text/javascript" src="app/services/userService.js"></script>
    <script type="text/javascript" src="app/services/diaryService.js"></script>
    <!--controllers-->
    <script type="text/javascript" src="app/controllers/mainCtrl.js"></script>
    <script type="text/javascript" src="app/controllers/userCtrl.js"></script>
    <script type="text/javascript" src="app/controllers/diaryCtrl.js"></script>

    <script type="text/javascript" src="app/app.routes.js"></script>
     <script type="text/javascript" src="app/app.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
	</head>
	<body ng-controller="MainController as mainlogin">
		<div class="navbar navbar-default navbar-fixed-top">
			<div class="container">
				<div class="navbar-header">
					<button class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<!--<a class="navbar-brand"><i class="fa fa-book"></i> Blue Hippo  </a>-->
				</div>
				<div class="collapse navbar-collapse" >
					<form name="loginForm" class="navbar-form navbar-right" method="post" ng-submit="mainlogin.doLogin(loginForm.$valid)" ng-if="!mainlogin.loggedIn" novalidate form-autofill-fix> 
						<p class="formerror">{{mainlogin.error}}</p>
						<div class="form-group">
							<label for="username">Your email</label>
							<input type="email" name="username" class="form-control" ng-model="mainlogin.loginData.username" required input-focus ng-blur="validate=true"/>
							<div ng-messages="loginForm.username.$error" role="alert" ng-if='loginForm.username.$dirty'>
							   <div ng-message="required">Please enter your email.</div>
							    <div ng-if='validate'>
								    <div ng-message="email">Please enter a valid email.</div>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label for="password">Your password</label>
							<input type="password" name="password"  class="form-control" ng-model="mainlogin.loginData.password" required input-focus/>	
								<div ng-messages="loginForm.password.$error" role="alert" ng-if='loginForm.password.$dirty'>
								    <div ng-message="required">Please enter a password.</div>
								</div>
						</div>
	                   <button type="submit" name= "submit" class="btn btn-success">Log In </button>
					</form>
					<div class=" navbar-right" ng-if="mainlogin.loggedIn">
						<span style="margin-right:10px;" class="hidden-xs">Hello {{ mainlogin.user.username }} !</span>
						<a href="#" class="logout-link"  ng-click="mainlogin.doLogout()">Logout</a>
					</div>
				</div>
			</div>	
		</div>
		<div ng-view></div>
        <footer>
            <img src="/app/plant1_black.png" class="left">
            <img src="/app/fish2.png" class="fish1">
            <img src="/app/fish1.png" class="fish2">
            <img src="/app/plant2_black.png" class="right">
            
            <p class="copyright">Blue Hippo @ 2015</p>
        </footer>
	   <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
	</body>
</html>